"""
Translations Module
Manages multi-language support for the application.
"""

TRANSLATIONS = {
    'en': {
        'dashboard': 'Dashboard',
        'passwords': 'Passwords',
        'allItems': 'All Items',
        'cards': 'Cards',
        'notes': 'Notes',
        'settings': 'Settings',
        'logout': 'Logout',
        'searchAllItems': 'Search in all items...',
        'filters': 'Filters',
        'filterBy': 'Filter by',
        'allPasswords': 'All Passwords',
        'weakPasswords': 'Weak Passwords',
        'vulnerablePasswords': 'Vulnerable Passwords',
        'duplicatePasswords': 'Duplicate Passwords',
        'favoritesOnly': 'Favorites Only',
        'recentlyModified': 'Recently Modified',
        'createItem': 'Create item',
        'addPassword': 'Add Password',
        'noPasswordsFound': 'No passwords found',
        'noPasswordsSaved': 'No passwords saved yet',
        'clickCreateItem': 'Click Create item to add your first password',
        'noPasswordsMessage': 'Add your first password to get started',
        'selectPassword': 'Select a password to view details',
        'title': 'Title',
        'username': 'Username',
        'password': 'Password',
        'url': 'URL',
        'category': 'Category',
        'lastModified': 'Last Modified',
        'firstCreated': 'First Created',
        'created': 'Created',
        'copyPassword': 'Copy Password',
        'copyUsername': 'Copy Username',
        'copyTOTP': 'Copy TOTP',
        'edit': 'Edit',
        'delete': 'Delete',
        'confirmDelete': 'Are you sure you want to delete this password?',
        'addToFavorites': 'Add to favorites',
        'removeFromFavorites': 'Remove from favorites',
        'passwordHistory': 'Password History',
        'noHistory': 'No password history available',
        'noHistoryAvailable': 'No history available',
        'changedOn': 'Changed on',
        'clickToCopy': 'Click to copy',
        'itemsSelected': 'items selected',
        'bulkDelete': 'Delete',
        'bulkExport': 'Export',
        'cancel': 'Cancel',
        'save': 'Save',
        'saving': 'Saving...',
        'trash': 'Trash',
        'restore': 'Restore',
        'emptyTrash': 'Empty Trash',
        'permanentDelete': 'Permanently Delete',
        'deletePermanently': 'Are you sure you want to permanently delete this item? This action cannot be undone.',
        'restoreItem': 'Are you sure you want to restore this item?',
        'emptyTrashConfirm': 'Are you sure you want to permanently delete all items in the trash?',
        'trashEmpty': 'Trash is empty.',
        'autoDeleteTrash': 'Automatically delete items from trash after',
        'days': 'days',
        'autoDeleteTrashHint': 'Items in the trash will be permanently deleted after this period.',
        'trashItemCount': '{count} item(s) in trash',
        'noTrashItems': 'No items in trash.',
        'restoreAll': 'Restore All',
        'addNewPassword': 'Add New Entry',
        'editPassword': 'Edit Entry',
        'titlePlaceholder': 'My Account',
        'usernamePlaceholder': 'username',
        'passwordPlaceholder': 'Enter password',
        'urlPlaceholder': 'https://example.com',
        'totpPlaceholder': 'Base32 secret key',
        'selectCategory': 'Select category',
        'addCustomCategory': '+ Add Custom Category',
        'customCategoryPlaceholder': 'Enter category name',
        'enterCategoryName': 'Enter category name',
        'personal': 'Personal',
        'work': 'Work',
        'banking': 'Banking',
        'socialMedia': 'Social Media',
        'shopping': 'Shopping',
        'entertainment': 'Entertainment',
        'other': 'Other',
        'generatePassword': 'Generate',
        'passwordStrength': 'Password Strength',
        'strong': 'Strong',
        'vulnerable': 'Vulnerable',
        'weak': 'Weak',
        'breached': 'Breached',
        'usePassword': 'Use Password',
        'passwordGenerator': 'Password Generator',
        'adjustSettings': 'Adjust settings to generate',
        'length': 'Length',
        'uppercase': 'Uppercase (A-Z)',
        'lowercase': 'Lowercase (a-z)',
        'numbers': 'Numbers (0-9)',
        'symbols': 'Symbols (!@#$...)',
        'uncategorized': 'Uncategorized',
        'settingsTitle': 'Settings',
        'managePreferences': 'Manage your AegisX preferences and data',
        'import': 'Import',
        'export': 'Export',
        'preferences': 'Preferences',
        'security': 'Security',
        'support': 'Support',
        'importPasswords': 'Import Passwords',
        'selectPasswordManager': 'Select your password manager to import your passwords into AegisX.',
        'exportPasswords': 'Export Passwords',
        'exportDescription': 'Export your passwords in various formats for backup or migration.',
        'preferencesTitle': 'Preferences',
        'customizeExperience': 'Customize your AegisX experience.',
        'securityTitle': 'Security',
        'manageSecuritySettings': 'Manage security settings for your AegisX vault.',
        'twoFactorAuth': 'Two-Factor Authentication',
        'add2FALayer': 'Add an extra layer of security with 2FA.',
        'enable2FA': 'Enable 2FA',
        'disable2FA': 'Disable 2FA',
        'language': 'Language',
        'chooseLanguage': 'Choose your preferred language.',
        'theme': 'Theme',
        'chooseTheme': 'Choose your preferred color scheme.',
        'autoLock': 'Auto-Lock Timeout',
        'autoLockDescription': 'Automatically lock AegisX after a period of inactivity.',
        'lightMode': 'Light',
        'darkMode': 'Dark',
        'systemMode': 'System',
        'brightAndClean': 'Bright and clean',
        'easyOnEyes': 'Easy on the eyes',
        'matchDevice': 'Match device',
        'savePreferences': 'Save Preferences',
        'json': 'JSON',
        'csv': 'CSV',
        'pgpEncrypted': 'PGP Encrypted',
        'structuredDataFormat': 'Structured data format',
        'spreadsheetFormat': 'Spreadsheet format',
        'passwordProtected': 'Password-protected',
        'encryptionPassword': 'Encryption password',
        'exportPGP': 'Export PGP',
        'exportNote': 'JSON and CSV exports contain unencrypted passwords. Store them securely. PGP export is encrypted with your chosen password.',
        'note': 'Note',
        'securityDashboard': 'Security Dashboard',
        'passwordBreached': 'Password Breached',
        'passwordBreachedDescription': 'This password has appeared in a known data breach.',
        'passwordDuplicates': 'Duplicate Passwords',
        'passwordDuplicatesDescription': 'These passwords are used for multiple accounts.',
        'passwordWeak': 'Weak Passwords',
        'passwordWeakDescription': 'These passwords are too simple and easy to guess.',
        'passwordVulnerable': 'Vulnerable Passwords',
        'passwordVulnerableDescription': 'These passwords could be stronger.',
        'strongPasswords': 'Strong Passwords',
        'weakPasswords': 'Weak Passwords',
        'breachedPasswords': 'Breached Passwords',
        'duplicatePasswords': 'Duplicate Passwords',
        'totalEntries': 'Total Entries',
        'analyze': 'Analyze',
        'analyzing': 'Analyzing...',
        'securityScore': 'Security Score',
        'good': 'Good',
        'fair': 'Fair',
        'poor': 'Poor',
        'unrated': 'Unrated',
        'actionRequired': 'Action Required',
        'viewAll': 'View All',
        'noSecurityIssues': 'No security issues found!',
        'allPasswordsSecure': 'All your passwords are secure.',
        'checkNow': 'Check Now',
        'emailBreached': 'Email Breached',
        'emailBreachedDescription': 'This email address has appeared in known data breaches.'
    },
    'bg': {
        'dashboard': 'Табло',
        'passwords': 'Пароли',
        'allItems': 'Всички елементи',
        'cards': 'Карти',
        'notes': 'Бележки',
        'settings': 'Настройки',
        'logout': 'Изход',
        'searchAllItems': 'Търсене във всички елементи...',
        'filters': 'Филтри',
        'filterBy': 'Филтриране по',
        'allPasswords': 'Всички пароли',
        'weakPasswords': 'Слаби пароли',
        'vulnerablePasswords': 'Уязвими пароли',
        'duplicatePasswords': 'Дублирани пароли',
        'favoritesOnly': 'Само любими',
        'recentlyModified': 'Наскоро променени',
        'createItem': 'Създай елемент',
        'addPassword': 'Добави парола',
        'noPasswordsFound': 'Няма намерени пароли',
        'noPasswordsSaved': 'Все още няма запазени пароли',
        'clickCreateItem': 'Кликнете Създай елемент, за да добавите първата си парола',
        'noPasswordsMessage': 'Добавете първата си парола, за да започнете',
        'selectPassword': 'Изберете парола, за да видите детайли',
        'title': 'Заглавие',
        'username': 'Потребителско име',
        'password': 'Парола',
        'url': 'URL адрес',
        'category': 'Категория',
        'lastModified': 'Последна промяна',
        'firstCreated': 'Първо създаване',
        'created': 'Създадена',
        'copyPassword': 'Копирай парола',
        'copyUsername': 'Копирай потребителско име',
        'copyTOTP': 'Копирай TOTP',
        'edit': 'Редактирай',
        'delete': 'Изтрий',
        'confirmDelete': 'Сигурни ли сте, че искате да изтриете тази парола?',
        'addToFavorites': 'Добави към любими',
        'removeFromFavorites': 'Премахни от любими',
        'passwordHistory': 'История на паролата',
        'noHistory': 'Няма налична история на паролата',
        'noHistoryAvailable': 'Няма налична история',
        'changedOn': 'Променена на',
        'clickToCopy': 'Кликнете за копиране',
        'itemsSelected': 'избрани елемента',
        'bulkDelete': 'Изтрий',
        'bulkExport': 'Експортирай',
        'cancel': 'Отказ',
        'save': 'Запази',
        'saving': 'Записване...',
        'trash': 'Кошче',
        'restore': 'Възстанови',
        'emptyTrash': 'Изпразни кошчето',
        'permanentDelete': 'Изтрий завинаги',
        'deletePermanently': 'Сигурни ли сте, че искате завинаги да изтриете този елемент? Тази операция не може да бъде отменена.',
        'restoreItem': 'Сигурни ли сте, че искате да възстановите този елемент?',
        'emptyTrashConfirm': 'Сигурни ли сте, че искате да изтриете завинаги всички елементи в кошчето?',
        'trashEmpty': 'Кошчето е празно.',
        'autoDeleteTrash': 'Автоматично изтриване на елементи от кошчето след',
        'days': 'дни',
        'autoDeleteTrashHint': 'Елементите в кошчето ще бъдат трайно изтрити след този период.',
        'trashItemCount': '{count} елемент(а) в кошчето',
        'noTrashItems': 'Няма елементи в кошчето.',
        'restoreAll': 'Възстанови всички',
        'addNewPassword': 'Добави нов запис',
        'editPassword': 'Редактирай запис',
        'titlePlaceholder': 'Моят акаунт',
        'usernamePlaceholder': 'потребителско име',
        'passwordPlaceholder': 'Въведете парола',
        'urlPlaceholder': 'https://example.com',
        'totpPlaceholder': 'Base32 секретен ключ',
        'selectCategory': 'Изберете категория',
        'addCustomCategory': '+ Добави персонализирана категория',
        'customCategoryPlaceholder': 'Въведете име на категория',
        'enterCategoryName': 'Въведете име на категория',
        'personal': 'Лични',
        'work': 'Работа',
        'banking': 'Банкиране',
        'socialMedia': 'Социални мрежи',
        'shopping': 'Пазаруване',
        'entertainment': 'Развлечения',
        'other': 'Други',
        'generatePassword': 'Генерирай',
        'passwordStrength': 'Сила на паролата',
        'strong': 'Силна',
        'vulnerable': 'Уязвима',
        'weak': 'Слаба',
        'breached': 'Компрометирана',
        'usePassword': 'Използвай парола',
        'passwordGenerator': 'Генератор на пароли',
        'adjustSettings': 'Настройте опциите за генериране',
        'length': 'Дължина',
        'uppercase': 'Главни букви (A-Z)',
        'lowercase': 'Малки букви (a-z)',
        'numbers': 'Цифри (0-9)',
        'symbols': 'Символи (!@#$...)',
        'uncategorized': 'Некатегоризирани',
        'settingsTitle': 'Настройки',
        'managePreferences': 'Управлявайте вашите AegisX предпочитания и данни',
        'import': 'Импорт',
        'export': 'Експорт',
        'preferences': 'Предпочитания',
        'security': 'Сигурност',
        'support': 'Поддръжка',
        'importPasswords': 'Импортирай пароли',
        'selectPasswordManager': 'Изберете вашия мениджър на пароли, за да импортирате паролите си в AegisX.',
        'exportPasswords': 'Експортирай пароли',
        'exportDescription': 'Експортирайте вашите пароли в различни формати за архивиране или миграция.',
        'preferencesTitle': 'Предпочитания',
        'customizeExperience': 'Персонализирайте вашето AegisX изживяване.',
        'securityTitle': 'Сигурност',
        'manageSecuritySettings': 'Управлявайте настройките за сигурност на вашето AegisX хранилище.',
        'twoFactorAuth': 'Двуфакторна автентикация',
        'add2FALayer': 'Добавете допълнителен слой на сигурност с 2FA.',
        'enable2FA': 'Активирай 2FA',
        'disable2FA': 'Деактивирай 2FA',
        'language': 'Език',
        'chooseLanguage': 'Изберете предпочитания език.',
        'theme': 'Тема',
        'chooseTheme': 'Изберете предпочитана цветова схема.',
        'autoLock': 'Автоматично заключване',
        'autoLockDescription': 'Автоматично заключване на AegisX след период на неактивност.',
        'lightMode': 'Светла',
        'darkMode': 'Тъмна',
        'systemMode': 'Системна',
        'brightAndClean': 'Ярка и чиста',
        'easyOnEyes': 'Лесна за очите',
        'matchDevice': 'Според устройството',
        'savePreferences': 'Запази предпочитания',
        'json': 'JSON',
        'csv': 'CSV',
        'pgpEncrypted': 'PGP криптиран',
        'structuredDataFormat': 'Структуриран формат на данни',
        'spreadsheetFormat': 'Формат на електронна таблица',
        'passwordProtected': 'Защитен с парола',
        'encryptionPassword': 'Парола за криптиране',
        'exportPGP': 'Експортирай PGP',
        'exportNote': 'JSON и CSV експортите съдържат некриптирани пароли. Съхранявайте ги сигурно. PGP експортът е криптиран с избраната от вас парола.',
        'note': 'Забележка',
        'securityDashboard': 'Табло за сигурност',
        'passwordBreached': 'Парола е компрометирана',
        'passwordBreachedDescription': 'Тази парола е била част от изтекли данни.',
        'passwordDuplicates': 'Дублирани пароли',
        'passwordDuplicatesDescription': 'Тези пароли се използват за множество акаунти.',
        'passwordWeak': 'Слаби пароли',
        'passwordWeakDescription': 'Тези пароли са твърде прости и лесни за отгатване.',
        'passwordVulnerable': 'Уязвими пароли',
        'passwordVulnerableDescription': 'Тези пароли биха могли да бъдат по-силни.',
        'strongPasswords': 'Силни пароли',
        'weakPasswords': 'Слаби пароли',
        'breachedPasswords': 'Компрометирани пароли',
        'duplicatePasswords': 'Дублирани пароли',
        'totalEntries': 'Общо записи',
        'analyze': 'Анализирай',
        'analyzing': 'Анализиране...',
        'securityScore': 'Резултат за сигурност',
        'good': 'Добър',
        'fair': 'Приемлив',
        'poor': 'Слаб',
        'unrated': 'Неоценен',
        'actionRequired': 'Изисква се действие',
        'viewAll': 'Виж всички',
        'noSecurityIssues': 'Не са открити проблеми със сигурността!',
        'allPasswordsSecure': 'Всичките ви пароли са сигурни.',
        'checkNow': 'Провери сега',
        'emailBreached': 'Имейлът е компрометиран',
        'emailBreachedDescription': 'Този имейл адрес е бил част от изтекли данни.'
    }
}

def get_translation_function(session):
    """Returns a translation function based on the user's language preference."""
    lang = session.get('language', 'en')
    if lang not in TRANSLATIONS:
        lang = 'en'

    def translate(key):
        return TRANSLATIONS[lang].get(key, key)

    return translate
